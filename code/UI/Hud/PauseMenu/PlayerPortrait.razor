@namespace Sauna.UI
@attribute [StyleSheet]
@inherits Panel

<root>
	@if (Player.Connection.IsHost)
	{
		<div class="host-title">HOST</div>
	}
	<div>
		<div class="player-info">
			<div style="flex-direction: column; margin-right: 10px;">
				<text class="player-name">@Player.Connection.DisplayName</text>
				<text class="player-details">@FormatDetails()</text>
			</div>
		</div>
		<div class="border-img @(Player.Connection.IsHost ? "host" : "")">
			<img src="avatar:@Player.Connection.SteamId" class="player-img" />
		</div>
	</div>
	@if (Player.Connection.IsHost)
	{
		<div class="host-spacer" />
	}
</root>

@code {
	public Player Player { get; set; }

	private string FormatDetails()
	{
		return $"{Player.Firstname}, Lv. {Player.Level}";
	}

	protected override int BuildHash()
	{
		if (Player is null)
			return -1;

		return HashCode.Combine(Player.Level, Player.Connection.IsHost, Player.Firstname.GetHashCode());
	}
}
