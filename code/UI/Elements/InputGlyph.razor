@using Sandbox;
@using Sandbox.UI;

@namespace Sauna
@inherits Panel

<style>
	.input-glyph {
		background-size: contain;
		background-position: center;
		background-repeat: no-repeat;
	}
</style>

<root>
	<image class="input-glyph" @ref=image />
</root>

@code {
	private Image image;

	public InputGlyphSize GlyphSize { get; set; }
	public InputButton Button { get; set; }
	public GlyphStyle GlyphStyle { get; set; } = GlyphStyle.Dark.WithSolidABXY();

	protected override void OnAfterTreeRender( bool firstTime )
	{
		image.Texture = Input.GetGlyph( Button, GlyphSize, GlyphStyle );
	}

	protected override int BuildHash()
	{
		return HashCode.Combine( Button, GlyphSize, GlyphStyle, Input.UsingController );		
	}
}
